<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ุญุงุณุจุฉ ุงููุณุงูุงุช ุจูู ููุงูุงุช ุงูุฌุฒุงุฆุฑ - ุงุญุณุจ ุงููุณุงูุฉ ูุงูููุช ุงูุชูุฑูุจู ููุณูุฑ">
    <meta name="theme-color" content="#3498db">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="ุญุงุณุจุฉ ุงููุณุงูุงุช">
    
    <!-- PWA Support -->
    <link rel="manifest" href="/manifest.json">
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="apple-touch-icon" href="icons/icon-152x152.png">
    
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
	
    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="styles.css">
    
    <title>ุญุงุณุจุฉ ุงููุณุงูุงุช ุจูู ุงูููุงูุงุช</title>
</head>
<body>
    <div class="container">
        <header>
            <h1>ุญุงุณุจุฉ ุงููุณุงูุงุช ุจูู ุงูููุงูุงุช</h1>
            <p class="subtitle">ุงุญุณุจ ุงููุณุงูุฉุ ุงูููุชุ ูุงูุชูููุฉ ุงูุชูุฑูุจูุฉ ููุชููู ุจูู ููุงูุงุช ุงูุฌุฒุงุฆุฑ</p>
        </header>

        <main>
            <!-- Calculator Form -->
            <form id="distance-form" class="calculator-form">
                <div class="form-group">
                    <label for="wilaya1">ููุงูุฉ ุงูุงูุทูุงู</label>
                    <select id="wilaya1" name="wilaya1" required aria-required="true">
                        <option value="">ุงุฎุชุฑ ููุงูุฉ ุงูุงูุทูุงู</option>
                    </select>
                </div>

                <button type="button" id="swap-button" class="swap-button" aria-label="ุชุจุฏูู ุงูููุงูุงุช">
                    <span class="swap-icon" aria-hidden="true">โโ</span>
                </button>

                <div class="form-group">
                    <label for="wilaya2">ููุงูุฉ ุงููุตูู</label>
                    <select id="wilaya2" name="wilaya2" required aria-required="true">
                        <option value="">ุงุฎุชุฑ ููุงูุฉ ุงููุตูู</option>
                    </select>
                </div>
            </form>

            <!-- Loading State -->
            <div id="loading" class="loading" role="status" aria-hidden="true">
                <div class="spinner"></div>
                <p>ุฌุงุฑู ุญุณุงุจ ุงููุณุงูุฉ...</p>
            </div>

            <!-- Results Section -->
            <section id="result" class="result" aria-live="polite">
                <h2 class="result-title">ูุชูุฌุฉ ุงูุจุญุซ</h2>
                <div class="result-content">
                    <p class="route-info">
                      <span class="route-info-text">
                           ุงููุณุงูุฉ ุจูู <span id="start-wilaya"></span> ู <span id="end-wilaya"></span> ูู:
                           </span>
                    </p>
                    
                    <div class="distance">
                        <span id="distance-value"></span> ูู
                        <div class="time-estimate">
                            ุงููุฏุฉ ุงูุชูุฑูุจูุฉ: <span id="time-value">-- ุณุงุนุฉ ู -- ุฏูููุฉ</span>
                        </div>
                    </div>

                    <div class="price-info">
                        <div class="price-row recommended">
                            <span>ุงูุณุนุฑ ุงูููุชุฑุญ:</span>
                            <span class="price" id="recommended-price">-- ุฏุฌ</span>
                        </div>
                        <div class="price-row">
                            <span>ุงูุณุนุฑ ุงูุฃุฏูู:</span>
                            <span class="price" id="min-price">-- ุฏุฌ</span>
                        </div>
                        <div class="price-row">
                            <span>ุงูุณุนุฑ ุงูุฃูุตู:</span>
                            <span class="price" id="max-price">-- ุฏุฌ</span>
                        </div>
                    </div>

                    <div class="actions">
                        <button type="button" id="share-button" class="action-button">
                            <span class="icon">๐</span> ูุดุงุฑูุฉ
                        </button>
                        <button type="button" id="print-button" class="action-button">
                            <span class="icon">๐จ๏ธ</span> ุทุจุงุนุฉ
                        </button>
                        <button type="button" id="save-button" class="action-button">
                            <span class="icon">โญ</span> ุญูุธ
                        </button>
						<button type="button" id="map-button" class="action-button">
                            <span class="icon">๐บ๏ธ</span> ุนุฑุถ ุงูุฎุฑูุทุฉ
                        </button>
                    </div>

                    <p class="note">* ุงููุณุงูุฉ ู ุงูุฃุณุนุงุฑ ุงูุชูุฑูุจูุฉ ุนุจุฑ ุงูุทุฑู ุงูุฑุฆูุณูุฉ</p>
                </div>
            </section>
<!-- Map Section -->
<section id="map-container" class="map-section" style="display: none;">
    <div class="map-header">
       <h3 style="text-align: center;">ุฎุฑูุทุฉ ุงููุณุงุฑ</h3>
        <button id="close-map" class="close-map-btn" aria-label="ุฅุบูุงู ุงูุฎุฑูุทุฉ">ร</button>
    </div>
    <div id="map-frame-container" class="map-frame-container">
        <!-- Map iframe will be inserted here by JavaScript -->
    </div>
</section>
            <!-- Recent Searches Section -->
            <section id="recent-searches" class="recent-searches" aria-label="ุนูููุงุช ุงูุจุญุซ ุงูุฃุฎูุฑุฉ">
                <!-- Will be populated by JavaScript -->
            </section>

            <!-- Saved Routes Section -->
            <section id="saved-routes" class="saved-routes" aria-label="ุงููุณุงุฑุงุช ุงููุญููุธุฉ">
                <!-- Will be populated by JavaScript -->
            </section>

            <!-- Error Messages -->
            <div id="error" class="error" role="alert"></div>
        </main>

        <footer>
            <!-- Offline Notice -->
            <div class="additional-info">
                <p class="offline-notice" id="offline-notice" hidden>
                    ๐ก ุฃูุช ุญุงููุง ูู ูุถุน ุบูุฑ ูุชุตู. ุจุนุถ ุงูููุฒุงุช ูุฏ ูุง ุชุนูู.
                </p>
            </div>
            
		<!-- Attribution -->
		<div class="signature">
  			  <a href="https://faridmezane.space" target="_blank">By Farid MEZANE</a>
		</div>
            
            <div class="attribution">
                ยฉ openrouteservice.org by HeiGIT | Map data ยฉ OpenStreetMap contributors
            </div>
        </footer>
    </div>

    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('ServiceWorker registered:', registration);
                    })
                    .catch(error => {
                        console.log('ServiceWorker registration failed:', error);
                    });
            });
        }
    </script>

    <!-- App Scripts -->
	
    <script src="wilayaData.js"></script>
    <script src="utils.js" type="module"></script>
    <script src="app.js?v=1.1.1"></script>
	
	<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
	
</body>
</html>
